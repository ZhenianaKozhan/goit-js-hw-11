{"mappings":"AAQA,MAAMA,EAAO,CACTC,WAAYC,SAASC,cAAc,gBACnCC,iBAAkBF,SAASC,cAAc,YACzCE,YAAaH,SAASC,cAAc,eAGlCG,EAAmB,ICZV,MAMXC,aACI,MAAMC,EAAM,qEAAqEC,KAAKC,wFAAwFD,KAAKE,OACnLC,MAAMJ,GAAKK,MAAKC,GAAKA,EAAEC,SAAQF,MAAOG,IAClCP,KAAKE,MAAQ,EACbM,QAAQC,IAAIF,EAAK,G,CAIzBG,YACIV,KAAKE,KAAO,C,CAGZS,YACA,OAAOX,KAAKC,W,CAGZU,UAAMC,GACNZ,KAAKC,YAAcW,C,CAtBvBC,cACIb,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,GDWpBX,EAAKC,WAAWsB,iBAAiB,UAGjC,SAAkBC,GACdA,EAAEC,iBAEFnB,EAAiBc,MAAQI,EAAEE,cAAcC,SAASjB,YAAYkB,MAC9DtB,EAAiBa,YACjBb,EAAiBC,Y,IAPrBP,EAAKK,YAAYkB,iBAAiB,SAUlC,SAAoBC,GAChBlB,EAAiBC,Y","sources":["src/index.js","src/js/api.js"],"sourcesContent":["// import axios from \"axios\";\n// import Notiflix from 'notiflix';\n// import SimpleLightbox from \"simplelightbox\";\nimport ImagesApiService from \"./js/api\";\n// import './css/styles.css';\n// import \"simplelightbox/dist/simple-lightbox.min.css\";\n// import ImagesApiService from \"./js/image-service\";\n\nconst refs = {\n    searchForm: document.querySelector('#search-form'),\n    galleryContainer: document.querySelector('.gallery'),\n    loadMoreBtn: document.querySelector('.load-more'),\n}\n\nconst imagesApiService = new ImagesApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore)\n\nfunction onSearch(e) {\n    e.preventDefault();\n\n    imagesApiService.query = e.currentTarget.elements.searchQuery.value;\n    imagesApiService.resetPage();\n    imagesApiService.fetchImage();\n}\n\nfunction onLoadMore(e) {\n    imagesApiService.fetchImage();\n}","// import axios from \"axios\";\n\nexport default class ImagesApiService {\n    constructor() {\n        this.searchQuery = '';\n        this.page = 1;\n    }\n\n    fetchImage() {\n        const url = `https://pixabay.com/api/?key=33603912-7e8ee717ebd011b2a3cf395f5&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`;\n        fetch(url).then(r => r.json()).then(( data  ) => {\n            this.page += 1;\n            console.log(data);\n        });\n    }\n\n    resetPage() {\n        this.page = 1;\n    }\n\n    get query() {\n        return this.searchQuery;\n    }\n\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n};"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","galleryContainer","loadMoreBtn","$1f0dc3b9307be026$var$imagesApiService","fetchImage","url","this","searchQuery","page","fetch","then","r","json","data","console","log","resetPage","query","newQuery","constructor","addEventListener","e","preventDefault","currentTarget","elements","value"],"version":3,"file":"index.52f92991.js.map"}